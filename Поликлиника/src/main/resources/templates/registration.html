<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<html>
<head>
    <meta charset="UTF-8">
    <link type="text/css" rel="stylesheet" href="/static/registration/style.css">

    <link type="text/css" rel="stylesheet" href="/registration/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
    <link href= "https://use.fontawesome.com/releases/v6.4.2/css/all.css"
          type="text/css"
          rel="stylesheet">
    <title>Title</title>
</head>

<body>
    <div id="alert_wait">

    </div>
    <div class="registration_block">
        <div class="alert alert-success al"style="position: absolute" role="alert" th:if="${success}">
            <h4 class="alert-heading">Регистрация прошла успешно</h4>
            <p th:text="'Благодарим вас за регистрацию в нашем мед центре . К вам на почту '+*{email}+' сообщение с поролем и логином .'"></p>
            <hr>
            <p class="mb-0">Никому не сообщайте ваш логин и пароль .</p>
        </div>
       <h1>Регистрация</h1>
        <form id="form_registration" th:method="post" th:object="${patient}" th:action="@{/registration/patient}">
            <div class="registration_content">
                        <i class="fa-solid fa-circle-check sec_alert" th:if="${success}"></i>
                        <div class="inp_block" th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('name') ? 'error' : ''}">
                        <label >Введите ваше имя</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input th:value="*{name}" name="name">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('name')!=null}" th:text="${bindingResult.getFieldError('name').getDefaultMessage}"></small>
                    </div>
                    <div class="inp_block" th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('sur_name') ? 'error' : ''}">
                        <label>Введите вашу фамилию</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input th:value="*{sur_name}" name="sur_name">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('sur_name')!=null}" th:text="${bindingResult.getFieldError('sur_name').getDefaultMessage}"></small>
                    </div>
                    <div class="inp_block" th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('patronymic') ? 'error' : ''}">
                        <label>Введите ваше отчество</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input th:value="*{patronymic}"  name="patronymic">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('patronymic')!=null}" th:text="${bindingResult.getFieldError('patronymic').getDefaultMessage}"></small>
                    </div>
                    <div class="inp_block" style="display: flex;align-items: center;gap: 15px; padding: 0;margin: 0">
                        <label>Укажите ваш пол :</label>
                        <div class="sex_content" style="display: flex;align-items: center">
                            <label>Муж</label>
                            <input type="radio" name="sex" checked  th:checked="*{sex == 'Мужчина' or sex==null}" value="Мужчина" >
                        </div>
                        <div class="sex_content" style="display: flex;align-items: center">
                            <label>Жен</label>
                            <input type="radio" name="sex" value="Женщина" th:checked="*{sex == 'Женщина'}">
                        </div>
                    </div>
                    <div class="inp_block" th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('date_birth') ? 'error' : ''}">
                        <label>Укажите дату рождения</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input th:value="*{date_birth}" type="date" name="date_birth">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('date_birth')!=null}" th:text="${bindingResult.getFieldError('date_birth').getDefaultMessage}"></small>
                    </div>
                    <div class="inp_block "th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('phone') ? 'error' : ''}">
                        <label>Укажите ваш контактный номер телефона</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input id="phone" name="phone" th:value="*{phone}">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('phone')!=null}" th:text="${bindingResult.getFieldError('phone').getDefaultMessage}"> </small>
                    </div>
                    <div class="inp_block " th:classappend="${bindingResult != null and bindingResult.hasFieldErrors('email') ? 'error' : ''}">
                        <label>Укажите вашу почту</label>
                        <i class="fa-regular fa-circle-xmark"></i>
                        <input name="email" th:value="*{email}">
                        <small th:if="${bindingResult!=null && bindingResult.getFieldError('email')!=null}" th:text="${bindingResult.getFieldError('email').getDefaultMessage}"></small>
                    </div>
                    <button type="submit" class="btn btn-primary">Зарегестрироваться</button>
            </div>
        </form>
    </div>
    <script src="/registration/script.js" defer></script>
    <script src="../static/registration/script.js" defer></script>
</body>
</html>